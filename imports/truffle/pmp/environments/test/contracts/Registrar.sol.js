// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"exchanges","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":true,"inputs":[{"name":"_asset","type":"address"}],"name":"lookupExchange","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":true,"inputs":[],"name":"lookupAll","outputs":[{"name":"","type":"address[]"}],"type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":true,"inputs":[],"name":"numAssets","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"prices","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":false,"inputs":[{"name":"_asset","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"assets","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":true,"inputs":[{"name":"_asset","type":"address"}],"name":"lookup","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":false,"inputs":[],"name":"fee","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"inputs":[{"name":"_assets","type":"address[]"},{"name":"_prices","type":"address[]"},{"name":"_exchanges","type":"address[]"}],"type":"constructor"}],
    binary: "606060405260405161050738038061050783398101604052805160805160a05191830192908101910160008251845114158061003d57508151845114155b1561004757610002565b5060008054600160a060020a031916331781555b83518110156100f95760016004600050600086848151811015610002576020908102909101810151600160a060020a031682529190915260409020805460ff1916821790558054808201808355828183801582901161010b57600083905261010b907fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf69081019083015b8082111561019057600081556001016100e5565b50505050610255806102b26000396000f35b5050509190906000526020600020900160008684815181101561000257602090810290910101518254600160a060020a03191617909155505060028054600181018083558281838015829011610194576000839052610194907f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace9081019083016100e5565b5090565b5050509190906000526020600020900160008584815181101561000257602090810290910101518254600160a060020a03191617909155505060038054600181018083558281838015829011610219576000839052610219907fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b9081019083016100e5565b5050509190906000526020600020900160008484815181101561000257602090810290910101518254600160a060020a03191617909155505081518290829081101561000257906020019060200201516005600050600086848151811015610002576020908102909101810151600160a060020a0316825291909152604090208054600160a060020a031916909117905560010161005b56606060405236156100825760e060020a60003504632839fc2981146100845780634ea91f27146100ca5780635f39bc22146100f15780638da5cb5b14610104578063a46fe83b14610116578063bc31c1c114610121578063beabacc814610167578063cf35bdd014610176578063d4b6b5da146101bc578063ddca3f43146101e3575b005b6101f860043560038054829081101561000257506000527fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b0154600160a060020a031681565b6101f8600435600160a060020a03808216600090815260056020526040902054165b919050565b61020b6080604052600060609081525b90565b6101f8600054600160a060020a031681565b6101e6600154610101565b6101f860043560028054829081101561000257506000527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace0154600160a060020a031681565b60005b15156060908152602090f35b6101f860043560018054829081101561000257506000527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf60154600160a060020a031681565b61016a600435600160a060020a03811660009081526004602052604090205460ff166100ec565b60005b60408051918252519081900360200190f35b600160a060020a03166060908152602090f35b60405180806020018281038252838181518152602001915080519060200190602002808383829060006004602084601f0104600f02600301f1509050019250505060405180910390f3",
    unlinked_binary: "606060405260405161050738038061050783398101604052805160805160a05191830192908101910160008251845114158061003d57508151845114155b1561004757610002565b5060008054600160a060020a031916331781555b83518110156100f95760016004600050600086848151811015610002576020908102909101810151600160a060020a031682529190915260409020805460ff1916821790558054808201808355828183801582901161010b57600083905261010b907fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf69081019083015b8082111561019057600081556001016100e5565b50505050610255806102b26000396000f35b5050509190906000526020600020900160008684815181101561000257602090810290910101518254600160a060020a03191617909155505060028054600181018083558281838015829011610194576000839052610194907f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace9081019083016100e5565b5090565b5050509190906000526020600020900160008584815181101561000257602090810290910101518254600160a060020a03191617909155505060038054600181018083558281838015829011610219576000839052610219907fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b9081019083016100e5565b5050509190906000526020600020900160008484815181101561000257602090810290910101518254600160a060020a03191617909155505081518290829081101561000257906020019060200201516005600050600086848151811015610002576020908102909101810151600160a060020a0316825291909152604090208054600160a060020a031916909117905560010161005b56606060405236156100825760e060020a60003504632839fc2981146100845780634ea91f27146100ca5780635f39bc22146100f15780638da5cb5b14610104578063a46fe83b14610116578063bc31c1c114610121578063beabacc814610167578063cf35bdd014610176578063d4b6b5da146101bc578063ddca3f43146101e3575b005b6101f860043560038054829081101561000257506000527fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b0154600160a060020a031681565b6101f8600435600160a060020a03808216600090815260056020526040902054165b919050565b61020b6080604052600060609081525b90565b6101f8600054600160a060020a031681565b6101e6600154610101565b6101f860043560028054829081101561000257506000527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace0154600160a060020a031681565b60005b15156060908152602090f35b6101f860043560018054829081101561000257506000527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf60154600160a060020a031681565b61016a600435600160a060020a03811660009081526004602052604090205460ff166100ec565b60005b60408051918252519081900360200190f35b600160a060020a03166060908152602090f35b60405180806020018281038252838181518152602001915080519060200190602002808383829060006004602084601f0104600f02600301f1509050019250505060405180910390f3",
    address: "0xde45b025f1cf53c751ab793a64a380d33b4cb01b",
    generated_with: "2.0.9",
    contract_name: "Registrar"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("Registrar error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("Registrar error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("Registrar error: Please call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("Registrar error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.Registrar = Contract;
  }

})();
